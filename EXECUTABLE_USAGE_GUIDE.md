# Poker Analysis Standalone Executables Guide

This guide explains how to create and use standalone executables for both the web tracker and analysis pipeline.

## ğŸ› ï¸ Building the Executables

You have several options to build the executables:

### Option 1: Using the Shell Script (Recommended for macOS/Linux)
```bash
# Make sure you're in the project directory and virtual environment is activated
source venv/bin/activate

# Run the build script
./build_executables.sh
```

### Option 2: Using the Python Script (Cross-platform)
```bash
# Make sure you're in the project directory and virtual environment is activated
source venv/bin/activate

# Run the Python build script
python3 build_executables.py
```

### Option 3: Manual PyInstaller Commands
```bash
# Activate virtual environment
source venv/bin/activate

# Build web tracker
pyinstaller --onefile --name poker_web_tracker app.spec

# Build analysis pipeline
pyinstaller --onefile --name poker_analysis run_analysis.spec
```

## ğŸ“¦ What Gets Built

After building, you'll find two executables in the `dist/` folder:

1. **`poker_web_tracker`** - Flask web application
2. **`poker_analysis`** - Command-line analysis pipeline

## ğŸš€ Using the Executables

### Web Tracker (`poker_web_tracker`)

The web tracker is a Flask application that provides a browser-based interface for tracking poker statistics.

**Usage:**
```bash
./dist/poker_web_tracker
```

**Important Notes:**
- The executable must be in the same directory as your project's `templates/`, `static/`, and `data/` folders
- Open your browser to `http://localhost:8080` after running
- Upload JSON files generated by the analysis pipeline to view statistics

**Directory Structure Required:**
```
your_deployment_folder/
â”œâ”€â”€ poker_web_tracker          # The executable
â”œâ”€â”€ templates/                 # HTML templates (copy from project)
â”‚   â””â”€â”€ index.html
â”œâ”€â”€ static/                    # CSS and JS files (copy from project)
â”‚   â”œâ”€â”€ css/
â”‚   â””â”€â”€ js/
â””â”€â”€ data/                      # Data files (optional, can be empty initially)
    â”œâ”€â”€ hero_stats.json
    â””â”€â”€ players_stats.json
```

### Analysis Pipeline (`poker_analysis`)

The analysis pipeline processes poker hand history files and generates comprehensive statistics.

**Usage:**
```bash
./dist/poker_analysis <hand_log_file> [hero_name]
```

**Examples:**
```bash
# Using default hero name from config
./dist/poker_analysis hand_log.txt

# Specifying a different hero name
./dist/poker_analysis hand_log.txt john_doe

# With full path
./dist/poker_analysis /path/to/hand_log.txt alice_poker
```

**What it generates:**
1. `hand_log_parsed.json` - Structured hand data
2. `data/{hero_name}_hero_stats.json` - Hero statistics
3. `data/{hero_name}_players_stats.json` - Opponent statistics  
4. `data/{hero_name}_balance_graph.png` - Balance progression graph
5. `data/{hero_name}_poker_stats.xlsx` - Comprehensive Excel report

## ğŸ—‚ï¸ File Requirements

### For Web Tracker
The web tracker needs these folders/files to be present in the same directory:
- `templates/` - Copy from your project
- `static/` - Copy from your project  
- `data/` - Can start empty, will be populated with JSON files

### For Analysis Pipeline
The analysis pipeline creates its own `data/` folder and doesn't need additional files.

## ğŸ”§ Troubleshooting

### Build Issues

**Problem:** "PyInstaller not found"
**Solution:** 
```bash
pip install pyinstaller
```

**Problem:** Import errors during build
**Solution:** Make sure your virtual environment is activated and all dependencies are installed:
```bash
source venv/bin/activate
pip install -r requirements.txt
```

**Problem:** Missing hidden imports
**Solution:** The spec files include common hidden imports, but you may need to add more for specific modules.

### Runtime Issues

**Problem:** Web tracker can't find templates
**Solution:** Ensure `templates/` and `static/` folders are in the same directory as the executable.

**Problem:** Analysis pipeline can't create output files
**Solution:** Ensure the executable has write permissions in the current directory.

**Problem:** "Module not found" errors
**Solution:** The executable might be missing dependencies. Check the build output for warnings.

## ğŸ“‹ Deployment Checklist

### For Web Tracker Deployment:
- [ ] Copy `poker_web_tracker` executable to target system
- [ ] Copy `templates/` folder to same directory
- [ ] Copy `static/` folder to same directory
- [ ] Create empty `data/` folder (or copy existing data files)
- [ ] Test by running and accessing `http://localhost:8080`

### For Analysis Pipeline Deployment:
- [ ] Copy `poker_analysis` executable to target system
- [ ] Test with a sample hand log file
- [ ] Verify output files are generated correctly

## ğŸ’¡ Tips

1. **Test First:** Always test executables on your development machine before deploying.

2. **File Paths:** Use absolute paths when in doubt, especially for input files.

3. **Permissions:** Ensure executables have run permissions (`chmod +x` on Unix systems).

4. **Directory Structure:** Keep the same relative directory structure when deploying the web tracker.

5. **Size Optimization:** The executables are quite large (~50-100MB) because they include the entire Python runtime and all dependencies.

## ğŸ”„ Updating Executables

When you make changes to your Python code:

1. Update your source files
2. Re-run the build script
3. Test the new executables
4. Deploy the updated versions

The build process is fast after the first build since PyInstaller caches dependencies.